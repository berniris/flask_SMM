{"ast":null,"code":"import _defineProperty from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/bcoleman/Documents/flask_SMM/client/src/components/find_counselor/BetterDoctor.js\";\nimport React, { Component } from 'react';\nimport DoctorResults from './DoctorResults';\nimport Geocode from \"react-geocode\";\nimport '../../App.css';\n\nvar BetterDoctor =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BetterDoctor, _Component);\n\n  function BetterDoctor(props) {\n    var _this;\n\n    _classCallCheck(this, BetterDoctor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BetterDoctor).call(this, props));\n    _this.state = {\n      body: \"\",\n      doctors: [],\n      lat: '',\n      lng: '',\n      baseurl: 'https://api.betterdoctor.com/2016-03-01/doctors?'\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAddress = _this.getAddress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(BetterDoctor, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      this.getAddress();\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      e.preventDefault();\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"enableLogs\",\n    value: function enableLogs() {\n      Geocode.enableDebug();\n    }\n  }, {\n    key: \"getAddress\",\n    value: function getAddress() {\n      var _this2 = this;\n\n      console.log('hi');\n      Geocode.fromAddress('new york').then(function (response) {\n        var _response$results$0$g = response.results[0].geometry.location,\n            lat = _response$results$0$g.lat,\n            lng = _response$results$0$g.lng;\n        console.log(lat, lng);\n\n        _this2.setState({\n          lat: lat,\n          lng: lng\n        });\n      }, function (error) {\n        console.error(error);\n      });\n      this.getDoctorData();\n    }\n  }, {\n    key: \"getDoctorData\",\n    value: function getDoctorData() {\n      var _this3 = this;\n\n      var url = new URL(\"https://api.betterdoctor.com/2016-03-01/doctors?\"),\n          params = \"specialty_uid=psychologist&location=\".concat(this.state.lat, \",\").concat(this.state.lng, \",10&skip=2&limit=10&user_key=6d011bef8ed81cebe9760f2e5b00bed1\");\n      console.log(\"\".concat(url).concat(params));\n      fetch(\"\".concat(url).concat(params)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this3.setState({\n          doctors: data.data\n        });\n\n        console.log(\"doctors\", _this3.state.doctors);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//remember to clear cookies from the Application tab to reset access to API \n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.lat + \",\" + this.state.lng);\n      console.log(this.state.body);\n      var doctors = this.state.doctors.map(function (doctor) {\n        return React.createElement(DoctorResults, {\n          key: doctor.id,\n          firstName: doctor.profile.first_name,\n          lastName: doctor.profile.last_name,\n          title: doctor.profile.title,\n          img: doctor.profile.image_url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          backgroundImage: \"url(https://images.unsplash.com/photo-1455824048252-3571df13b276?ixlib=rb-0.3.5&s=931758a7caa9e4aefb7990f31e776b85&auto=format&fit=crop&w=1192&q=80)\"\n        },\n        className: \"splash-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"infobox-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Would you like to speak to someone in person? Search available counselors in your area.\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"doctor-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Enter your city and state:\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: this.state.body,\n        type: \"text\",\n        name: \"body\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        value: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Search\"))), React.createElement(\"div\", {\n        className: \"counselor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, doctors)));\n    }\n  }]);\n\n  return BetterDoctor;\n}(Component);\n\nexport default BetterDoctor;","map":{"version":3,"sources":["/Users/bcoleman/Documents/flask_SMM/client/src/components/find_counselor/BetterDoctor.js"],"names":["React","Component","DoctorResults","Geocode","BetterDoctor","props","state","body","doctors","lat","lng","baseurl","handleSubmit","bind","handleChange","getAddress","e","preventDefault","setState","target","name","value","enableDebug","console","log","fromAddress","then","response","results","geometry","location","error","getDoctorData","url","URL","params","fetch","json","data","catch","err","map","doctor","id","profile","first_name","last_name","title","image_url","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\nimport DoctorResults from './DoctorResults';\nimport Geocode from \"react-geocode\";\nimport '../../App.css';\n\n\nclass BetterDoctor extends Component {\nconstructor (props) {\n  super(props);\n  this.state = {\n    body: \"\",\n    doctors: [],\n    lat: '',\n    lng: '',\n    baseurl: 'https://api.betterdoctor.com/2016-03-01/doctors?'\n  }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.getAddress = this.getAddress.bind(this)\n}\n\nhandleSubmit(e) {\n  e.preventDefault();\n  this.getAddress();\n}\n\nhandleChange(e) {\n  e.preventDefault() \n  this.setState({\n  [e.target.name]: e.target.value\n  })\n}\n\nenableLogs() {\nGeocode.enableDebug();\n}\n\ngetAddress() {\n    console.log('hi')\nGeocode.fromAddress('new york')\n.then(response => {\n    const { lat, lng } = response.results[0].geometry.location;\n    console.log(lat, lng)\n    this.setState({\n    lat: lat,\n    lng: lng\n  })\n  },\n  error => {\n    console.error(error);\n  },\n)\nthis.getDoctorData()\n}\n\ngetDoctorData () {\n  let url = new URL(\"https://api.betterdoctor.com/2016-03-01/doctors?\"),\n  params = `specialty_uid=psychologist&location=${this.state.lat},${this.state.lng},10&skip=2&limit=10&user_key=6d011bef8ed81cebe9760f2e5b00bed1`\n  console.log(`${url}${params}`)\n  fetch(`${url}${params}`)\n  .then(response => {\n    return response.json();\n  }).then(data => {\n    this.setState({\n      doctors: data.data\n    });\n    console.log(\"doctors\", this.state.doctors)\n  })\n  .catch(err => console.log(err))\n}\n\ncomponentDidMount() {\n  //remember to clear cookies from the Application tab to reset access to API \n}\n\n\nrender() {\n  console.log(this.state.lat + \",\" + this.state.lng)\n  console.log(this.state.body)\n  const doctors = this.state.doctors.map(doctor => {\n    return (\n      <DoctorResults\n       key={doctor.id}\n       firstName={doctor.profile.first_name}\n       lastName={doctor.profile.last_name}\n       title={doctor.profile.title}\n       img={doctor.profile.image_url}\n     />\n      )\n  })\n    return (\n\n\n    <div className=\"container\">\n    <div style={{backgroundImage: `url(https://images.unsplash.com/photo-1455824048252-3571df13b276?ixlib=rb-0.3.5&s=931758a7caa9e4aefb7990f31e776b85&auto=format&fit=crop&w=1192&q=80)`}} className=\"splash-header\" >\n    </div>\n    <div className=\"flex\">\n    <div className=\"infobox-1\">\n    <p>Would you like to speak to someone in person? Search available counselors in your area.</p>\n        <form onSubmit={this.handleSubmit}>\n        <div>\n          <label htmlFor=\"doctor-search\"><p>Enter your city and state:</p></label>\n            <br />\n            <input\n                    value={this.state.body}\n                    type=\"text\"\n                    name=\"body\"\n                    onChange={this.handleChange} />\n          </div>\n            <button type=\"submit\" value=\"submit\">Search</button>\n        </form>\n    </div>\n    <div className=\"counselor\">{doctors}</div>\n    </div>\n    </div>\n\n\n    );\n\n}\n}\n\nexport default BetterDoctor;"]},"metadata":{},"sourceType":"module"}