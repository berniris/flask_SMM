{"ast":null,"code":"import _objectSpread from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bcoleman/Documents/flask_SMM/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/bcoleman/Documents/flask_SMM/client/src/Login.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router'; // import './login.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      email: '',\n      password: ''\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.clearLogin = function () {\n      _this.setState({\n        username: '',\n        email: '',\n        password: ''\n      });\n    };\n\n    _this.sendLoginInformation = function (username, email, password) {\n      var router = _this.props.router;\n      var API_HEADERS_AND_MODE = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        mode: 'cors'\n      };\n      var API_SETTINGS = {\n        settings: {\n          method: 'POST',\n          body: JSON.stringify({\n            username: username,\n            email: email,\n            password: password\n          })\n        }\n      };\n      return fetch('http://localhost:5000/register', _objectSpread({}, API_HEADERS_AND_MODE, API_SETTINGS.settings)).then(function (res) {\n        if (res.status >= 400) {\n          return res.json().then(function (err) {\n            throw err;\n          });\n        }\n\n        return res.text();\n      }).then(function (data) {\n        localStorage.setItem('token', data.result.auth_token);\n\n        if (!!localStorage.token) {\n          _this.props.history.push('/success');\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          username = _this$state.username,\n          email = _this$state.email,\n          password = _this$state.password;\n      return React.createElement(\"div\", {\n        className: \"auth-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"demo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Demo Auth Site\")), React.createElement(\"div\", {\n        className: \"auth-input-holder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"username-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"username\",\n        placeholder: \"Username\",\n        className: \"username\",\n        value: this.state.username,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"email-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"email\",\n        placeholder: \"Email\",\n        className: \"email\",\n        value: this.state.email,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"password-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        placeholder: \"Password\",\n        className: \"password\",\n        value: this.state.password,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"auth-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"auth-button-go\",\n        onClick: function onClick() {\n          return _this2.sendLoginInformation(email, password);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Proceed\")));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\n;\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/bcoleman/Documents/flask_SMM/client/src/Login.js"],"names":["React","withRouter","Login","state","username","email","password","onChange","event","setState","target","id","value","clearLogin","sendLoginInformation","router","props","API_HEADERS_AND_MODE","headers","mode","API_SETTINGS","settings","method","body","JSON","stringify","fetch","then","res","status","json","err","text","data","localStorage","setItem","result","auth_token","token","history","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router';\n// import './login.css';\n\nclass Login extends React.Component {\n  state = {\n    username: '',\n    email: '',\n    password: '',\n  }\n\n  onChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value,\n    });\n  }\n\n  clearLogin = () => {\n    this.setState({\n      username: '',\n      email: '',\n      password: '',\n    });\n  }\n\n  sendLoginInformation = (username, email, password) => {\n    const { router } = this.props;\n    const API_HEADERS_AND_MODE = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      mode: 'cors',\n    };\n  \n    const API_SETTINGS = {\n      settings: {\n        method: 'POST',\n        body: JSON.stringify({\n          username: username,\n          email: email,\n          password: password\n        })\n      }\n    }\n\n    return fetch('http://localhost:5000/register', {\n      ...API_HEADERS_AND_MODE,\n      ...API_SETTINGS.settings\n    }).then(res => {\n      if (res.status >= 400) {\n        return res.json().then(err => {\n          throw err;\n        });\n      }\n      return res.text();\n    }).then(data => {\n      localStorage.setItem('token', data.result.auth_token)\n      if (!!localStorage.token) {\n        this.props.history.push('/success')\n      }\n    })\n  }\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div className=\"auth-container\">\n        <div className=\"logo\">\n          <h3 className=\"demo\">Demo Auth Site</h3>\n        </div>\n        <div className=\"auth-input-holder\">\n        <div className=\"username-icon\" />\n            <input\n              type=\"text\"\n              id=\"username\"\n              placeholder=\"Username\"\n              className=\"username\"\n              value={this.state.username}\n              onChange={this.onChange}\n            />\n          <div className=\"email-icon\" />\n            <input\n              type=\"text\"\n              id=\"email\"\n              placeholder=\"Email\"\n              className=\"email\"\n              value={this.state.email}\n              onChange={this.onChange}\n            />\n          <div className=\"password-icon\" />\n          <input\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            className=\"password\"\n            value={this.state.password}\n            onChange={this.onChange}\n          />\n        </div>\n        <div className=\"auth-button\">\n            <button\n            className=\"auth-button-go\"\n            onClick={() => this.sendLoginInformation(email, password)}\n            >\n              Proceed\n            </button>\n        </div>\n      </div>\n    )\n  }\n};\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}